// Translations
const translations = {
    en: {
        // Navigation
        nav_services: "Services",
        nav_industries: "Industries",
        nav_tech: "Technology",
        nav_quote: "Get Quote",

        // Hero
        hero_title: "Transforming Businesses with Technology",
        hero_subtitle: "Custom software solutions and IoT hardware designed to boost productivity for restaurants, bakeries, and retail businesses worldwide.",
        hero_cta_primary: "Request a Quote",
        hero_cta_secondary: "Explore Services",

        // Services
        services_title: "Our Services",
        services_subtitle: "Comprehensive technology solutions tailored to your business needs",
        service_software_title: "Custom Software",
        service_software_desc: "Powerful management systems designed for your industry",
        service_software_1: "Inventory & Stock Control",
        service_software_2: "Sales Management",
        service_software_3: "Financial Administration",
        service_software_4: "Real-time Reporting",
        service_software_5: "Multi-user Access Control",
        service_iot_title: "IoT Hardware",
        service_iot_desc: "Smart devices for monitoring and remote control",
        service_iot_1: "Custom IoT Devices",
        service_iot_2: "Temperature & Humidity Monitoring",
        service_iot_3: "Remote Web Control",
        service_iot_4: "Real-time Alerts",
        service_iot_5: "Proprietary Hardware Design",

        // Industries
        industries_title: "Industries We Serve",
        industries_subtitle: "Specialized solutions for diverse business sectors",
        industry_bakery: "Bakeries",
        industry_bakery_desc: "Production tracking, inventory management, and sales optimization",
        industry_restaurant: "Restaurants",
        industry_restaurant_desc: "Order management, kitchen control, and customer service systems",
        industry_pizzeria: "Pizzerias",
        industry_pizzeria_desc: "Delivery tracking, recipe management, and POS integration",
        industry_pub: "Pubs & Bars",
        industry_pub_desc: "Inventory control, tab management, and supplier tracking",
        industry_retail: "Retail",
        industry_retail_desc: "Point of sale, stock management, and customer analytics",

        // Tech Stack
        tech_title: "Technology Stack",
        tech_subtitle: "Cutting-edge technologies powering our solutions",
        tech_iot: "IoT Devices",
        tech_sensors: "Smart Sensors",
        tech_web: "Web Control",
        tech_cloud: "Cloud Integration",
        tech_realtime: "Real-time Monitoring",
        tech_mobile: "Mobile Responsive",

        // Quote Form
        quote_title: "Request a Quote",
        quote_subtitle: "Tell us about your project and we'll get back to you within 24 hours",
        form_name: "Full Name *",
        form_email: "Email *",
        form_company: "Company Name",
        form_phone: "Phone Number",
        form_services: "Services Needed *",
        form_service_software: "Custom Software",
        form_service_hardware: "IoT Hardware",
        form_industry: "Industry *",
        form_select: "Select an option",
        form_industry_bakery: "Bakery",
        form_industry_restaurant: "Restaurant",
        form_industry_pizzeria: "Pizzeria",
        form_industry_pub: "Pub/Bar",
        form_industry_retail: "Retail",
        form_industry_other: "Other",
        form_message: "Project Details *",
        form_submit: "Send Request",

        // Footer
        footer_tagline: "Innovative technology solutions for businesses worldwide",
        footer_locations: " Operating in USA & Chile",
        footer_services: "Services",
        footer_software: "Custom Software Development",
        footer_iot: "IoT Hardware Design",
        footer_consulting: "Technology Consulting",
        footer_contact: "Contact",
        footer_hours: "Mon - Fri: 9AM - 6PM",
        footer_rights: "All rights reserved."
    },
    es: {
        // Navegaci贸n
        nav_services: "Servicios",
        nav_industries: "Industrias",
        nav_tech: "Tecnolog铆a",
        nav_quote: "Cotizar",

        // Hero
        hero_title: "Transformando Negocios con Tecnolog铆a",
        hero_subtitle: "Soluciones de software personalizado y hardware IoT dise帽ados para aumentar la productividad de restaurantes, panader铆as y negocios minoristas en todo el mundo.",
        hero_cta_primary: "Solicitar Cotizaci贸n",
        hero_cta_secondary: "Explorar Servicios",

        // Servicios
        services_title: "Nuestros Servicios",
        services_subtitle: "Soluciones tecnol贸gicas integrales adaptadas a las necesidades de tu negocio",
        service_software_title: "Software Personalizado",
        service_software_desc: "Sistemas de gesti贸n potentes dise帽ados para tu industria",
        service_software_1: "Control de Inventario y Stock",
        service_software_2: "Gesti贸n de Ventas",
        service_software_3: "Administraci贸n Financiera",
        service_software_4: "Reportes en Tiempo Real",
        service_software_5: "Control de Acceso Multiusuario",
        service_iot_title: "Hardware IoT",
        service_iot_desc: "Dispositivos inteligentes para monitoreo y control remoto",
        service_iot_1: "Dispositivos IoT Personalizados",
        service_iot_2: "Monitoreo de Temperatura y Humedad",
        service_iot_3: "Control Remoto v铆a Web",
        service_iot_4: "Alertas en Tiempo Real",
        service_iot_5: "Dise帽o de Hardware Propietario",

        // Industrias
        industries_title: "Industrias que Atendemos",
        industries_subtitle: "Soluciones especializadas para diversos sectores comerciales",
        industry_bakery: "Panader铆as",
        industry_bakery_desc: "Seguimiento de producci贸n, gesti贸n de inventario y optimizaci贸n de ventas",
        industry_restaurant: "Restaurantes",
        industry_restaurant_desc: "Gesti贸n de pedidos, control de cocina y sistemas de atenci贸n al cliente",
        industry_pizzeria: "Pizzer铆as",
        industry_pizzeria_desc: "Seguimiento de entregas, gesti贸n de recetas e integraci贸n POS",
        industry_pub: "Pubs y Bares",
        industry_pub_desc: "Control de inventario, gesti贸n de cuentas y seguimiento de proveedores",
        industry_retail: "Retail",
        industry_retail_desc: "Punto de venta, gesti贸n de stock y an谩lisis de clientes",

        // Stack Tecnol贸gico
        tech_title: "Stack Tecnol贸gico",
        tech_subtitle: "Tecnolog铆as de vanguardia que impulsan nuestras soluciones",
        tech_iot: "Dispositivos IoT",
        tech_sensors: "Sensores Inteligentes",
        tech_web: "Control Web",
        tech_cloud: "Integraci贸n en la Nube",
        tech_realtime: "Monitoreo en Tiempo Real",
        tech_mobile: "Responsive M贸vil",

        // Formulario de Cotizaci贸n
        quote_title: "Solicitar Cotizaci贸n",
        quote_subtitle: "Cu茅ntanos sobre tu proyecto y te responderemos en menos de 24 horas",
        form_name: "Nombre Completo *",
        form_email: "Correo Electr贸nico *",
        form_company: "Nombre de la Empresa",
        form_phone: "N煤mero de Tel茅fono",
        form_services: "Servicios Requeridos *",
        form_service_software: "Software Personalizado",
        form_service_hardware: "Hardware IoT",
        form_industry: "Industria *",
        form_select: "Selecciona una opci贸n",
        form_industry_bakery: "Panader铆a",
        form_industry_restaurant: "Restaurante",
        form_industry_pizzeria: "Pizzer铆a",
        form_industry_pub: "Pub/Bar",
        form_industry_retail: "Retail",
        form_industry_other: "Otro",
        form_message: "Detalles del Proyecto *",
        form_submit: "Enviar Solicitud",

        // Footer
        footer_tagline: "Soluciones tecnol贸gicas innovadoras para negocios en todo el mundo",
        footer_locations: " Operando en USA y Chile",
        footer_services: "Servicios",
        footer_software: "Desarrollo de Software Personalizado",
        footer_iot: "Dise帽o de Hardware IoT",
        footer_consulting: "Consultor铆a Tecnol贸gica",
        footer_contact: "Contacto",
        footer_hours: "Lun - Vie: 9AM - 6PM",
        footer_rights: "Todos los derechos reservados."
    }
};

// Language Management
let currentLang = localStorage.getItem('language') || 'en';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);

    // Update all translatable elements
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Update HTML lang attribute
    document.documentElement.lang = lang;

    // Update language toggle button
    const langToggle = document.getElementById('langToggle');
    langToggle.textContent = lang === 'en' ? 'ES' : 'EN';

    // Update form placeholder
    const messageField = document.getElementById('message');
    if (messageField) {
        messageField.placeholder = lang === 'en'
            ? 'Describe your project requirements, timeline, and any specific features you need...'
            : 'Describe los requisitos de tu proyecto, cronograma y cualquier caracter铆stica espec铆fica que necesites...';
    }
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(currentLang);

    // Language toggle button
    const langToggle = document.getElementById('langToggle');
    langToggle.addEventListener('click', () => {
        const newLang = currentLang === 'en' ? 'es' : 'en';
        setLanguage(newLang);
    });
});

// Mobile Menu Toggle
const hamburger = document.getElementById('hamburger');
const navMenu = document.getElementById('navMenu');

hamburger.addEventListener('click', () => {
    navMenu.classList.toggle('active');

    // Animate hamburger
    const spans = hamburger.querySelectorAll('span');
    if (navMenu.classList.contains('active')) {
        spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
        spans[1].style.opacity = '0';
        spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
    } else {
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
    }
});

// Close mobile menu when clicking on a link
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        const spans = hamburger.querySelectorAll('span');
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
    });
});

// Smooth Scrolling
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            const offset = 80; // Account for fixed navbar
            const targetPosition = target.offsetTop - offset;
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
        }
    });
});

// Intersection Observer for Fade-in Animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, observerOptions);

document.querySelectorAll('.fade-in').forEach(element => {
    observer.observe(element);
});

// Form Validation and Submission
const quoteForm = document.getElementById('quoteForm');

quoteForm.addEventListener('submit', (e) => {
    e.preventDefault();

    // Get form data
    const formData = new FormData(quoteForm);
    const data = {
        name: formData.get('name'),
        email: formData.get('email'),
        company: formData.get('company'),
        phone: formData.get('phone'),
        services: formData.getAll('services'),
        industry: formData.get('industry'),
        message: formData.get('message')
    };

    // Validate at least one service is selected
    if (data.services.length === 0) {
        const errorMsg = currentLang === 'en'
            ? 'Please select at least one service'
            : 'Por favor selecciona al menos un servicio';
        alert(errorMsg);
        return;
    }

    // Log form data (in production, this would send to a backend)
    console.log('Form submitted:', data);

    // Show success message
    const successMsg = currentLang === 'en'
        ? 'Thank you! We\'ll get back to you within 24 hours.'
        : '隆Gracias! Te responderemos en menos de 24 horas.';
    alert(successMsg);

    // Reset form
    quoteForm.reset();

    // In production, you would send this data to your backend:
    // fetch('/api/quote', {
    //     method: 'POST',
    //     headers: { 'Content-Type': 'application/json' },
    //     body: JSON.stringify(data)
    // });
});

// Navbar scroll effect
let lastScroll = 0;
const navbar = document.querySelector('.navbar');

window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;

    if (currentScroll > 100) {
        navbar.style.background = 'rgba(255, 255, 255, 1)';
        navbar.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.1)';
    } else {
        navbar.style.background = 'rgba(255, 255, 255, 0.98)';
        navbar.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.05)';
    }

    lastScroll = currentScroll;
});

// Dynamic service checkboxes - show relevant info
const softwareCheckbox = document.getElementById('serviceSoftware');
const hardwareCheckbox = document.getElementById('serviceHardware');

[softwareCheckbox, hardwareCheckbox].forEach(checkbox => {
    checkbox.addEventListener('change', () => {
        // This could trigger dynamic form fields in the future
        // For now, just visual feedback
        if (checkbox.checked) {
            checkbox.parentElement.style.color = 'var(--color-accent)';
        } else {
            checkbox.parentElement.style.color = '';
        }
    });
});
